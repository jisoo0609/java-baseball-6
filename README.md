# 숫자 야구 미션 분석

## 1️⃣ 기능 요구 사항 분석

### 게임의 핵심 기능

#### 컴퓨터 난수 생성
- 1~9 범위, 서로 다른 3개의 숫자
- 중복 숫자 허용 X

#### 사용자 입력
- 3자리 서로 다른 숫자 입력
- 입력 값 검증 필요
    - 길이 3
    - 숫자만
    - 1~9 범위
    - 중복 숫자 없음
- 잘못된 값 입력 시 `IllegalArgumentException` 발생

#### 결과 판정
- **스트라이크**: 같은 자리의 같은 숫자
- **볼**: 다른 자리의 같은 숫자
- **낫싱**: 같은 숫자 없음
- 3스트라이크 시 게임 종료 메시지 출력

#### 게임 반복
- 게임 종료 후 재시작 여부
    - 1 → 새 게임 시작
    - 2 → 종료

#### 입출력 요구 사항
- `숫자 야구 게임을 시작합니다.` 시작 문구
- `숫자를 입력해주세요 :` 입력 안내
- 결과 출력 (`X볼 Y스트라이크` or `낫싱`)
- 3스트라이크 시 종료 메시지
- 게임 재시작 안내

---

## 2️⃣ 프로그래밍 요구 사항 분석

### Java 버전
- JDK 17에서 동작
- `build.gradle` 변경 X
- 외부 라이브러리 사용 X

### 프로그램 구조
- 실행 시작점: `Application.main()`
- 종료 시 `System.exit()` 사용 금지

### 사용 라이브러리
- `camp.nextstep.edu.missionutils.Randoms` : 난수 생성용
- `camp.nextstep.edu.missionutils.Console` : 사용자 입력용

### 테스트
- `ApplicationTest` 통과 필수
- 랜덤 값 테스트: `assertRandomNumberInRangeTest`
- 예외 테스트: `assertSimpleTest` 활용
- 테스트 실패 시 0점 처리

---

## 3️⃣ 기능별 역할 및 추상화

| 역할 | 책임 및 기능 |
|------|-------------------------------|
| `Application` | 프로그램 시작점, 게임 루프 실행 |
| `Game` / `BaseballGame` | 게임 상태 관리, 난수 생성, 판정 로직 |
| `InputValidator` | 사용자 입력 유효성 검증 |
| `ResultCalculator` | 스트라이크/볼/낫싱 계산 |
| `OutputPrinter` | 결과 메시지 출력 |
| `GameController` | 게임 반복, 재시작 처리 |

> 실제 구현 시 클래스를 꼭 나눌 필요는 없지만, 역할을 명확히 나누면 테스트 용이성과 유지보수성이 높음

---

## 4️⃣ 데이터 구조

- **컴퓨터 숫자**: `List<Integer>` 또는 `int[]` (중복 제거 필요)
- **사용자 입력**: `String` → `List<Integer>` 변환, 입력 검증 후 판정 로직에 사용
- **판정 결과**: strike 개수, ball 개수 → 결과 메시지 생성

---

## 5️⃣ 게임 루프 흐름

1. 시작 문구 출력
2. 난수 생성
3. **게임 반복**
    - 사용자 입력
    - 입력 검증
    - 판정
    - 결과 출력
    - 3스트라이크 → 종료 및 재시작 여부 확인
4. 종료 또는 새 게임 시작

---

## 6️⃣ 예외 처리

- 사용자 입력이 잘못되면 즉시 `IllegalArgumentException` 발생
- 애플리케이션 종료

---

## 7️⃣ 테스트 분석

- **랜덤 테스트**
    - 게임 진행 중 랜덤 숫자가 정해져 있을 때, 올바른 출력 확인
    - 재시작 후에도 올바르게 동작하는지 확인
- **예외 테스트**
    - 입력 길이 초과 → `IllegalArgumentException`
    - 다른 잘못된 입력도 동일 처리
- **출력 검증**
    - “낫싱”, “X볼 Y스트라이크”, “3스트라이크” 등 출력 형식 체크

---

## 8️⃣ 예상 프로젝트 구조 (패키지/클래스)
```
src
└─ main
└─ java
└─ baseball
├─ Application.java // main() 시작점
├─ Game.java // 게임 진행 로직
├─ InputValidator.java // 입력 검증
├─ ResultCalculator.java // 스트라이크/볼 판정
└─ OutputPrinter.java // 출력 관련

```

- `test/java/baseball/ApplicationTest.java` 포함
- 미션 유틸 라이브러리(`Randoms`, `Console`) 활용

---

## ✅ 분석 정리

- 핵심 흐름: **난수 생성 → 사용자 입력 → 판정 → 출력 → 게임 반복**
- 입력 검증과 예외 처리 필수
- 게임 재시작 기능 고려
- 테스트 통과 및 요구사항 출력 형식 준수 중요
- 클래스/패키지 분리로 역할을 명확히 하는 것이 좋음

